
@using Carpooling.Models;
@model HomeViewModel

@{
    ViewData["Title"] = "Home";
}



<div>


    <div class="info-container">
        <div class="info-box">
            
            <i class="fas fa-route"></i>
            <a href="@Url.Action("Index", "Travels")">
            <h1>@Model.TotalTravelCount</h1>
         
            <p>Total Travels</p>
            </a>
        </div>
        <div class="info-box">
           @* <a href="@Url.Action("ListUsers", "Admin")">*@
            <i class="fas fa-users"></i>
            <h1>@Model.TotalUsersCount</h1>
            <p>Total Users</p>
           @* </a>*@
        </div>
    </div>



    <h2 class="my-section-title">Top 10 Organizer</h2>

    <table class="table">
        <thead>
            <tr>
                <th>Username</th>
                <th>Rating</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model.TopTravelOrganizers)
            {
                <tr>
                    <td>
                            <a href="@Url.Action("DriverInfo", "Personal" , new { id = @user.Id })">@user.UserName</a>
                    </td>
                    <td>@user.AverageRating</td>
                </tr>
            }
        </tbody>
    </table>

    <h2 class="my-section-title">Top 10 Passengers</h2>

    <table class="table">
        <thead>
            <tr>
                <th>Username</th>
                <th>Rating</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model.TopPassengers)
            {
                <tr>
                    <td>
                            <a href="@Url.Action("PassengerInfo", "Personal" , new { id = @user.Id })">@user.UserName</a>
                    </td>
                    <td>@user.AverageRating</td>
                </tr>
            }
        </tbody>
    </table>
</div>
















@*<div>

    <h1>Total Travel Count: @Model.TotalTravelCount</h1>
    <h1>Total Users Count: @Model.TotalUsersCount</h1>
    <br>

    <h2 class="my-section-title">Top 10 Organizer</h2>


    @foreach (var user in Model.TopTravelOrganizers)
    {
        <div class="row">
            <div>
                @if (User.Identity?.IsAuthenticated == true)
                {
                    <a class="row clickable-row" href="@Url.Action("DriverInfo", "Personal" , new { id = @user.Id })">
                        <div class="cell">@user.UserName</div>
                    </a>
                }
                else
                {
                    <a class="row clickable-row" href="/Identity/Account/Login">
                        <div class="cell">@user.UserName</div>
                    </a>
                }
            </div>
        </div>
    }

    <h2 class="my-section-title">10 Passengers</h2>
    @foreach (var user in Model.TopPassengers)
    {
        <div class="row">
            <div>
                @if (User.Identity?.IsAuthenticated == true)
                {
                    <a class="row clickable-row" href="@Url.Action("PassengerInfo", "Personal" , new { id = @user.Id })">
                        <div class="cell">@user.UserName</div>
                    </a>
                }
                else
                {
                    <a class="row clickable-row" href="/Identity/Account/Login">
                        <div class="cell">@user.UserName</div>
                    </a>
                }
            </div>
        </div>
    }

</div>
*@

